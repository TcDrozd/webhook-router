destinations:
  # --- Wiki Manager (FastAPI on wiki LXC) ---
  wikimgr.append_log:
    method: POST
    url: http://192.168.50.208:8000/logs/captured-links
    auth_env: DEST_WIKIMGR_SECRET
    timeout_seconds: 10

  # Upsert a Wiki.js page (JSON body with path/title/content)
  # Path is likely /wiki/upsert based on your service; change if your FastAPI uses /pages/upsert instead.  # VERIFY
  wikimgr.upsert_page:
    method: POST
    url: http://192.168.50.208:8080/pages/upsert # VERIFY path
    auth_env: DEST_WIKIMGR_SECRET
    timeout_seconds: 15

  # Optional: a lightweight healthcheck for the wikimgr service (handy for router warmups)  # optional
  wikimgr.health:
    method: GET
    url: http://192.168.50.208:8000/health # VERIFY path
    timeout_seconds: 5

  # --- Slack Ingest (GPU VM) ---
  slack.ingest:
    method: POST
    url: http://192.168.50.201:6090/ingest/slack
    secret_env: DEST_SLACK_INGEST_SECRET
    auth_env: SLACK_INGEST_TOKEN
    timeout_seconds: 10

  # --- New JPL (GPU VM) ---
  jpl:
    method: POST
    url: http://192.168.50.201:6060/new-jpl
    secret_env: DEST_JPL_SECRET
    auth_env: JPL_TOKEN
    timeout_seconds: 10

  ################################################################################
  # --- Most-Recent ---
  ################################################################################

  # --- Frame manifest publisher (frame LXC) ---
  frame.publish_manifest:
    method: POST
    url: http://192.168.50.214:5000/publish
    auth_env: DEST_FRAME_PUBLISH_TOKEN
    timeout_seconds: 300

  frame.health:
    method: GET
    url: http://192.168.50.214:5000/health
    timeout_seconds: 5

  # --- Dogwalk API ---
  dogwalk.add:
    method: POST
    url: http://192.168.50.100/api/add
    timeout_seconds: 10

  dogwalk.walks:
    method: GET
    url: http://192.168.50.100/api/walks
    timeout_seconds: 10

  dogwalk.latest:
    method: GET
    url: http://192.168.50.100/api/latest
    timeout_seconds: 10

  dogwalk.walks.trevor:
    method: GET
    url: http://192.168.50.100/api/walks?user=Trevor
    timeout_seconds: 10

  dogwalk.latest.trevor:
    method: GET
    url: http://192.168.50.100/api/latest?user=Trevor
    timeout_seconds: 10

  ## medcheck
  # --- Med Check service ---
  medcheck.taken:
    method: POST
    url: http://192.168.50.203:5055/api/taken
    auth_env: MEDCHECK_TOKEN
    timeout_seconds: 5

  medcheck.reset:
    method: POST
    url: http://192.168.50.203:5055/api/reset
    auth_env: MEDCHECK_TOKEN
    timeout_seconds: 5

  medcheck.status:
    method: GET
    url: http://192.168.50.203:5055/api/status
    timeout_seconds: 5
